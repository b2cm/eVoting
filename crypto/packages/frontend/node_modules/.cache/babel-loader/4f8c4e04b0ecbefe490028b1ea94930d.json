{"ast":null,"code":"var _jsxFileName = \"/Users/kemlohalex/Documents/evoting/crypto/packages/frontend/src/pages/vote/index.tsx\",\n  _s = $RefreshSig$();\nimport { useCallback, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { createMemberShipZKP } from \"pallier\";\nimport { BACKEND_URL } from \"../../connections/api\";\nimport { KeyPair, signData, verifyKeyPair } from \"lrs\";\nimport { useForm } from \"react-hook-form\";\nimport { Groups } from \"../../components/groups\";\nimport BigInteger from \"big-integer\";\nimport { Point, verifySignature } from \"elgammal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Vote() {\n  _s();\n  const {\n    sessionId\n  } = useParams();\n  const {\n    register,\n    getValues,\n    formState: {\n      errors,\n      isValid\n    },\n    trigger\n  } = useForm({\n    mode: \"onBlur\"\n  });\n  const [groups, setGroups] = useState(null);\n  const [TotalLimit, setTotalLimit] = useState(0);\n  const [outofcounter, setoutofcounter] = useState(false);\n  const [disableConfirm, setdisableConfirm] = useState(false);\n  const [disableConn, setDisableConn] = useState(false);\n  const decreaselimit = () => {\n    setLimit(Limit - 1);\n    if (Limit == 0) {\n      setoutofcounter(true);\n      setCurrentToken([{\n        vid: \"\",\n        counter: \"\",\n        partyId: \"\"\n      }]);\n      return;\n    }\n    return;\n  };\n  const [Limit, setLimit] = useState(0);\n  const [voterData, setVoterData] = useState(null);\n  const [allTokens, setAllTokens] = useState([]);\n  const [currentToken, setCurrentToken] = useState(null);\n  useEffect(() => {\n    if (!currentToken) return;\n    const currentCounters = [];\n    const currentVids = [];\n    currentToken === null || currentToken === void 0 ? void 0 : currentToken.forEach(token => {\n      currentCounters.push(token.counter);\n      currentVids.push(token.vid);\n    });\n    setVoterData({\n      counter: currentCounters,\n      vid: currentVids\n    });\n  }, [currentToken]);\n\n  // * this function is called when the user clicks on the connect to party button\n\n  const getVoterData = async () => {\n    if (!isValid) return;\n    // here the call will be made to the backend to get the voter data corresponding to the public key\n    console.log(\"sessionID\", sessionId);\n    const {\n      data: {\n        tokens\n      }\n    } = await axios.post(BACKEND_URL + \"/Vote/Voter/\" + getValues().publicKey, {\n      sessionId: sessionId\n    });\n    setCurrentToken(tokens[0]);\n    setTotalLimit(tokens.length);\n    setLimit(tokens.length);\n    console.log(\"tokens\", tokens, \"\\n\");\n    setAllTokens(tokens);\n    setDisableConn(true);\n  };\n  useEffect(() => {\n    const cb = async () => {\n      const {\n        data: {\n          candidates: cand,\n          pubKey\n        }\n      } = await axios.get(BACKEND_URL + \"/SessionData/\" + sessionId);\n      setCand(cand.map(c => ({\n        title: c.title,\n        message: BigInt(\"0x\" + c.message)\n      })));\n      setPub(BigInt(\"0x\" + pubKey));\n    };\n    const cb2 = async () => {\n      let {\n        data\n      } = await axios.get(BACKEND_URL + \"/Vote/Voter\");\n      for (const id in data) {\n        data[id] = data[id].map(s => BigInt(\"0x\" + s));\n      }\n      setGroups(data);\n    };\n    cb();\n    cb2();\n  }, [sessionId]);\n  const [selected, setSelected] = useState(null);\n  const [candidates, setCand] = useState([]);\n  const [pub, setPub] = useState(null);\n  const encryptAndSend = useCallback(async () => {\n    const pubKey = getValues().publicKey;\n    const privKey = getValues().privateKey;\n    if (selected == null || !groups || !pub || !pubKey || !privKey || !voterData) {\n      return null;\n    }\n    if (pubKey.trim() == \"\" || privKey.trim() == \"\") {\n      return;\n    }\n    const [c, proof] = createMemberShipZKP(candidates[selected].message, candidates.map(c => c.message), pub);\n    const publicKey = BigInteger(pubKey.trim(), 16);\n    const privateKey = BigInteger(privKey.trim(), 16);\n\n    //find our group\n    const g = Object.entries(groups).find(_ref => {\n      let [, keys] = _ref;\n      return keys.some(k => BigInteger(k).compare(publicKey) == 0);\n    });\n    if (!g) {\n      return;\n    }\n    const signature = signData(g[1].map(n => BigInteger(n)), new KeyPair({\n      value0: publicKey,\n      value1: privateKey\n    }), c);\n\n    //! here is where it goes\n    await axios.post(BACKEND_URL + \"/Vote\", {\n      sessionId,\n      ciphertext: c.toString(16),\n      proof: proof.map(p => p.map(v => v.toString(16))),\n      signature,\n      groupId: g[0],\n      token: JSON.stringify(currentToken)\n    });\n  }, [pub, selected, candidates, sessionId, currentToken]);\n  const [tokenIndex, setTokenIndex] = useState(0);\n  const updateToken = () => {\n    if (tokenIndex >= allTokens.length - 1) return;\n    setTokenIndex(tokenIndex + 1);\n    setCurrentToken(allTokens[tokenIndex + 1]);\n    setdisableConfirm(false);\n  };\n  const verifySign = async () => {\n    const pubkey = getValues().publicKey;\n    console.log(\"pubkey\", pubkey);\n    const {\n      data\n    } = await axios.post(BACKEND_URL + \"/Vote/getEncryptedTokens\", {\n      publicKey: pubkey\n    });\n    console.log(\"data\", data);\n    //const verificationToken = data[0].encryptedCounter;\n    const verificationSignature = JSON.parse(data[0].signature.toString());\n    //console.log(\"verificationToken\", verificationToken);\n    console.log(\"verificationSignature\", verificationSignature);\n    const {\n      R,\n      s,\n      e\n    } = verificationSignature;\n    const bool = verifySignature(BigInt(s), Point.fromCompressed(BigInt(\"0x\" + R)), BigInt(e), Point.fromCompressed(BigInt(\"0x\" + pubkey)));\n    console.log(\"bool\", bool);\n    window.alert(\"Signature Verified\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"text-center text-2xl py-4 font-semibold\",\n      children: [\"Cast Your Vote:\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Public Key \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: errors !== null && errors !== void 0 && errors.publicKey ? \"border-red-600\" : \"border-black\",\n          ...register(\"publicKey\", {\n            onBlur: () => {\n              trigger();\n            },\n            required: \"Public Key Required\",\n            validate: {\n              matching: v => {\n                try {\n                  const valid = (errors === null || errors === void 0 ? void 0 : errors.privateKey) || verifyKeyPair(BigInt(\"0x\" + getValues().privateKey), BigInt(\"0x\" + v));\n                  if (valid) {\n                    return valid;\n                  }\n                  throw new Error();\n                } catch (e) {\n                  return \"Public Key does not match private key\";\n                }\n              },\n              registered: v => !groups || Object.entries(groups).some(_ref2 => {\n                let [, group] = _ref2;\n                return group.some(k => k == BigInt(\"0x\" + v));\n              }) || \"Public Key not registered\"\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), (errors === null || errors === void 0 ? void 0 : errors.publicKey) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-600 text-sm\",\n          children: errors.publicKey.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Private Key \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: errors !== null && errors !== void 0 && errors.privateKey ? \"border-red-600\" : \"border-black\",\n          ...register(\"privateKey\", {\n            required: \"Private Key Required\",\n            onBlur: () => {\n              trigger();\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), (errors === null || errors === void 0 ? void 0 : errors.privateKey) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-600 text-sm\",\n          children: errors === null || errors === void 0 ? void 0 : errors.privateKey.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => getVoterData(),\n        className: \"blue-btn ripple\",\n        disabled: disableConn,\n        children: \"Connect to Party\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => verifySign(),\n        className: \"blue-btn ripple\",\n        children: \"Verify Signature\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateToken(),\n          className: \"blue-btn ripple\",\n          disabled: outofcounter,\n          children: \"Get Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" Total Limit : \", TotalLimit]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" Remaining Limit : \", Limit]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), voterData && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-2xl py-4 font-semibold\",\n          children: \" VID:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: voterData === null || voterData === void 0 ? void 0 : voterData.vid.map(id => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: id\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-2xl py-4 font-semibold\",\n          children: [\" \", \"Counter:\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: voterData === null || voterData === void 0 ? void 0 : voterData.counter.map(counter => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: counter\n            }, counter, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center space-x-4\",\n      children: candidates.map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: [\"cursor-pointer w-44 h-56 transform hover:scale-105 hover:shadow-lg text-center transition-transform border border-blue-300 flex flex-col justify-center items-center space-y-2\", ...(i === selected ? [\"scale-105\", \"border-blue-500\", \"shadow-md\"] : [])].join(\" \"),\n        onClick: () => {\n          setSelected(i);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"Candidate\",\n          src: \"/silhoutte.png\",\n          className: \"w-3/4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: c.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this), selected != null ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [\"Selected: \", candidates[selected].title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          encryptAndSend();\n          decreaselimit();\n          setdisableConfirm(true);\n        },\n        className: \"blue-btn ripple\" + (isValid ? \"\" : \" opacity-30 cursor-default\"),\n        disabled: !isValid || !voterData || outofcounter || disableConfirm,\n        children: \"Confirm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), groups ? /*#__PURE__*/_jsxDEV(Groups, {\n      groups: groups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n}\n_s(Vote, \"9lQM/X8nDG/zqBS+hGJ/J7nvJXo=\", false, function () {\n  return [useParams, useForm];\n});\n_c = Vote;\nvar _c;\n$RefreshReg$(_c, \"Vote\");","map":{"version":3,"names":["useCallback","useEffect","useState","axios","useParams","createMemberShipZKP","BACKEND_URL","KeyPair","signData","verifyKeyPair","useForm","Groups","BigInteger","Point","verifySignature","jsxDEV","_jsxDEV","Fragment","_Fragment","Vote","_s","sessionId","register","getValues","formState","errors","isValid","trigger","mode","groups","setGroups","TotalLimit","setTotalLimit","outofcounter","setoutofcounter","disableConfirm","setdisableConfirm","disableConn","setDisableConn","decreaselimit","setLimit","Limit","setCurrentToken","vid","counter","partyId","voterData","setVoterData","allTokens","setAllTokens","currentToken","currentCounters","currentVids","forEach","token","push","getVoterData","console","log","data","tokens","post","publicKey","length","cb","candidates","cand","pubKey","get","setCand","map","c","title","message","BigInt","setPub","cb2","id","s","selected","setSelected","pub","encryptAndSend","privKey","privateKey","trim","proof","g","Object","entries","find","_ref","keys","some","k","compare","signature","n","value0","value1","ciphertext","toString","p","v","groupId","JSON","stringify","tokenIndex","setTokenIndex","updateToken","verifySign","pubkey","verificationSignature","parse","R","e","bool","fromCompressed","window","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onBlur","required","validate","matching","valid","Error","registered","_ref2","group","onClick","disabled","i","join","alt","src","_c","$RefreshReg$"],"sources":["/Users/kemlohalex/Documents/evoting/crypto/packages/frontend/src/pages/vote/index.tsx"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport axios, { AxiosResponse } from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { createMemberShipZKP } from \"pallier\";\nimport { BACKEND_URL } from \"../../connections/api\";\nimport { KeyPair, signData, verifyKeyPair } from \"lrs\";\nimport { useForm } from \"react-hook-form\";\nimport { Groups } from \"../../components/groups\";\nimport BigInteger from \"big-integer\";\nimport {\n  Point,\n  GenerateRandom,\n  GenPublicKey,\n  signature,\n  ElgammalEncrypt,\n  CURVE,\n  verifySignature,\n} from \"elgammal\";\n\nexport default function Vote() {\n  const { sessionId } = useParams();\n  const {\n    register,\n    getValues,\n    formState: { errors, isValid },\n    trigger,\n  } = useForm({\n    mode: \"onBlur\",\n  });\n\n  const [groups, setGroups] = useState(\n    null as null | { [id: string]: bigint[] }\n  );\n\n  const [TotalLimit, setTotalLimit] = useState(0);\n  const [outofcounter, setoutofcounter] = useState(false);\n  const [disableConfirm, setdisableConfirm] = useState(false);\n  const [disableConn, setDisableConn] = useState(false);\n\n  const decreaselimit = () => {\n    setLimit(Limit - 1);\n    if (Limit == 0) {\n      setoutofcounter(true);\n      setCurrentToken([{ vid: \"\", counter: \"\", partyId: \"\" }]);\n      return;\n    }\n    return;\n  };\n\n  const [Limit, setLimit] = useState(0);\n\n  const [voterData, setVoterData] = useState<{\n    counter: string[] | null;\n    vid: string[] | null;\n  } | null>(null);\n\n  const [allTokens, setAllTokens] = useState([]);\n\n  const [currentToken, setCurrentToken] = useState<\n    | {\n        vid: string;\n        counter: string;\n        partyId: string;\n      }[]\n    | null\n  >(null);\n\n  useEffect(() => {\n    if (!currentToken) return;\n    const currentCounters: string[] = [];\n    const currentVids: string[] = [];\n    currentToken?.forEach((token) => {\n      currentCounters.push(token.counter);\n      currentVids.push(token.vid);\n    });\n    setVoterData({\n      counter: currentCounters,\n      vid: currentVids,\n    });\n  }, [currentToken]);\n\n  // * this function is called when the user clicks on the connect to party button\n\n  const getVoterData = async () => {\n    if (!isValid) return;\n    // here the call will be made to the backend to get the voter data corresponding to the public key\n    console.log(\"sessionID\", sessionId);\n    const {\n      data: { tokens },\n    } = await axios.post(BACKEND_URL + \"/Vote/Voter/\" + getValues().publicKey, {\n      sessionId: sessionId,\n    });\n    setCurrentToken(tokens[0]);\n    setTotalLimit(tokens.length);\n    setLimit(tokens.length);\n    console.log(\"tokens\", tokens, \"\\n\");\n    setAllTokens(tokens);\n    setDisableConn(true);\n  };\n\n  useEffect(() => {\n    const cb = async () => {\n      const {\n        data: { candidates: cand, pubKey },\n      } = await axios.get(BACKEND_URL + \"/SessionData/\" + sessionId);\n      setCand(\n        cand.map((c: any) => ({\n          title: c.title,\n          message: BigInt(\"0x\" + c.message),\n        }))\n      );\n      setPub(BigInt(\"0x\" + pubKey));\n    };\n\n    const cb2 = async () => {\n      let { data } = await axios.get<\n        any,\n        AxiosResponse<{ [id: string]: any[] }>\n      >(BACKEND_URL + \"/Vote/Voter\");\n\n      for (const id in data) {\n        data[id] = data[id].map((s) => BigInt(\"0x\" + s));\n      }\n\n      setGroups(data);\n    };\n\n    cb();\n    cb2();\n  }, [sessionId]);\n\n  const [selected, setSelected] = useState(null as null | number);\n  const [candidates, setCand] = useState(\n    [] as Array<{ title: string; message: bigint }>\n  );\n  const [pub, setPub] = useState(null as null | bigint);\n\n  const encryptAndSend = useCallback(async () => {\n    const pubKey = getValues().publicKey;\n    const privKey = getValues().privateKey;\n    if (\n      selected == null ||\n      !groups ||\n      !pub ||\n      !pubKey ||\n      !privKey ||\n      !voterData\n    ) {\n      return null;\n    }\n    if (pubKey.trim() == \"\" || privKey.trim() == \"\") {\n      return;\n    }\n    const [c, proof] = createMemberShipZKP(\n      candidates[selected].message,\n      candidates.map((c) => c.message),\n      pub\n    );\n\n    const publicKey = BigInteger(pubKey.trim(), 16);\n    const privateKey = BigInteger(privKey.trim(), 16);\n\n    //find our group\n    const g = Object.entries(groups).find(([, keys]) =>\n      keys.some((k) => BigInteger(k).compare(publicKey) == 0)\n    );\n\n    if (!g) {\n      return;\n    }\n\n    const signature = signData(\n      g[1].map((n) => BigInteger(n)),\n      new KeyPair({ value0: publicKey, value1: privateKey }),\n      c\n    );\n\n    //! here is where it goes\n    await axios.post(BACKEND_URL + \"/Vote\", {\n      sessionId,\n      ciphertext: c.toString(16),\n      proof: proof.map((p) => p.map((v) => v.toString(16))),\n      signature,\n      groupId: g[0],\n      token: JSON.stringify(currentToken),\n    });\n  }, [pub, selected, candidates, sessionId, currentToken]);\n\n  const [tokenIndex, setTokenIndex] = useState(0);\n  const updateToken = () => {\n    if (tokenIndex >= allTokens.length - 1) return;\n    setTokenIndex(tokenIndex + 1);\n    setCurrentToken(allTokens[tokenIndex + 1]);\n    setdisableConfirm(false);\n  };\n\n  const verifySign = async () => {\n    const pubkey = getValues().publicKey;\n    console.log(\"pubkey\", pubkey);\n    const { data } = await axios.post(\n      BACKEND_URL + \"/Vote/getEncryptedTokens\",\n      {\n        publicKey: pubkey,\n      }\n    );\n\n    console.log(\"data\", data);\n    //const verificationToken = data[0].encryptedCounter;\n    const verificationSignature = JSON.parse(data[0].signature.toString());\n    //console.log(\"verificationToken\", verificationToken);\n    console.log(\"verificationSignature\", verificationSignature);\n    const {R, s, e} = verificationSignature;\n    const bool = verifySignature(\n      BigInt(s),\n      Point.fromCompressed(BigInt(\"0x\" + R)),\n      BigInt(e),\n      Point.fromCompressed(BigInt(\"0x\" + pubkey))\n    );\n    console.log(\"bool\", bool);\n    window.alert(\"Signature Verified\");\n  };\n\n  return (\n    <div className=\"flex flex-col items-center space-y-4\">\n      <header className=\"text-center text-2xl py-4 font-semibold\">\n        Cast Your Vote:{\" \"}\n      </header>\n      <form>\n        <div>\n          <label>Public Key </label>\n          <br />\n          <input\n            className={errors?.publicKey ? \"border-red-600\" : \"border-black\"}\n            {...register(\"publicKey\", {\n              onBlur: () => {\n                trigger();\n              },\n              required: \"Public Key Required\",\n              validate: {\n                matching: (v) => {\n                  try {\n                    const valid =\n                      errors?.privateKey ||\n                      verifyKeyPair(\n                        BigInt(\"0x\" + getValues().privateKey),\n                        BigInt(\"0x\" + v)\n                      );\n                    if (valid) {\n                      return valid;\n                    }\n                    throw new Error();\n                  } catch (e) {\n                    return \"Public Key does not match private key\";\n                  }\n                },\n                registered: (v) =>\n                  !groups ||\n                  Object.entries(groups).some(([, group]) =>\n                    group.some((k) => k == BigInt(\"0x\" + v))\n                  ) ||\n                  \"Public Key not registered\",\n              },\n            })}\n          />\n          {errors?.publicKey && (\n            <div className=\"text-red-600 text-sm\">\n              {errors.publicKey.message}\n            </div>\n          )}\n        </div>\n\n        <div>\n          <label>Private Key </label>\n          <br />\n          <input\n            className={errors?.privateKey ? \"border-red-600\" : \"border-black\"}\n            {...register(\"privateKey\", {\n              required: \"Private Key Required\",\n              onBlur: () => {\n                trigger();\n              },\n            })}\n          />\n          {errors?.privateKey && (\n            <div className=\"text-red-600 text-sm\">\n              {errors?.privateKey.message}\n            </div>\n          )}\n        </div>\n      </form>\n      <div>\n        <button\n          onClick={() => getVoterData()}\n          className=\"blue-btn ripple\"\n          disabled={disableConn}\n        >\n          Connect to Party\n        </button>\n        <button\n          onClick={() => verifySign()}\n          className=\"blue-btn ripple\"\n        >\n          Verify Signature\n        </button>\n        <div>\n          <button\n            onClick={() => updateToken()}\n            className=\"blue-btn ripple\"\n            disabled={outofcounter}\n          >\n            Get Next\n          </button>\n        </div>\n        <div> Total Limit : {TotalLimit}</div>\n        <div> Remaining Limit : {Limit}</div>\n        {voterData && (\n          <div>\n            <div className=\"text-center text-2xl py-4 font-semibold\"> VID:</div>\n\n            <div>\n              {\" \"}\n              <ul>\n                {voterData?.vid!.map((id) => (\n                  <li key={id}>{id}</li>\n                ))}\n              </ul>\n            </div>\n            <div className=\"text-center text-2xl py-4 font-semibold\">\n              {\" \"}\n              Counter:{\" \"}\n            </div>\n            <div>\n              {\" \"}\n              <ul>\n                {voterData?.counter!.map((counter) => (\n                  <li key={counter}>{counter}</li>\n                ))}\n              </ul>{\" \"}\n            </div>\n          </div>\n        )}\n      </div>\n      <div className=\"flex justify-center space-x-4\">\n        {candidates.map((c, i) => (\n          <div\n            className={[\n              \"cursor-pointer w-44 h-56 transform hover:scale-105 hover:shadow-lg text-center transition-transform border border-blue-300 flex flex-col justify-center items-center space-y-2\",\n              ...(i === selected\n                ? [\"scale-105\", \"border-blue-500\", \"shadow-md\"]\n                : []),\n            ].join(\" \")}\n            key={i}\n            onClick={() => {\n              setSelected(i);\n            }}\n          >\n            <img alt=\"Candidate\" src=\"/silhoutte.png\" className=\"w-3/4\" />\n            <span>{c.title}</span>\n          </div>\n        ))}\n      </div>\n      {selected != null ? (\n        <>\n          <div className=\"text-center\">\n            Selected: {candidates[selected].title}\n          </div>\n\n          <button\n            onClick={() => {\n              encryptAndSend();\n              decreaselimit();\n              setdisableConfirm(true);\n            }}\n            className={\n              \"blue-btn ripple\" + (isValid ? \"\" : \" opacity-30 cursor-default\")\n            }\n            disabled={!isValid || !voterData || outofcounter || disableConfirm}\n          >\n            Confirm\n          </button>\n        </>\n      ) : (\n        <></>\n      )}\n      {groups ? <Groups groups={groups} /> : <></>}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}